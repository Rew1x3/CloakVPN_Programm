# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è CloakVPN

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ Supabase

### 1. Supabase URL
–ò–∑ –≤–∞—à–µ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: `postgresql://postgres:[YOUR-PASSWORD]@db.ncjadpqxkekqprnvsbee.supabase.co:5432/postgres`

**URL –ø—Ä–æ–µ–∫—Ç–∞:** `https://ncjadpqxkekqprnvsbee.supabase.co`

### 2. Supabase ANON KEY
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –≤ [Supabase Dashboard](https://app.supabase.com)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Project API keys**
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **`anon`** –∏–ª–∏ **`public`** key (–ù–ï `service_role` key!)

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã users

1. –û—Ç–∫—Ä–æ–π—Ç–µ **SQL Editor** –≤ Supabase Dashboard
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `supabase_setup.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor –∏ –Ω–∞–∂–º–∏—Ç–µ **Run**

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ñ–∞–π–ª–∞ `supabase_setup.sql` –≤—Ä—É—á–Ω—É—é.

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
VITE_SUPABASE_URL=https://ncjadpqxkekqprnvsbee.supabase.co
VITE_SUPABASE_ANON_KEY=–≤–∞—à_anon_key_–∑–¥–µ—Å—å
```

**–í–ê–ñ–ù–û:** 
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git (–æ–Ω —É–∂–µ –≤ `.gitignore`)
- –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_anon_key_–∑–¥–µ—Å—å` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π anon key –∏–∑ Supabase

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `users` —Å–æ–∑–¥–∞–Ω–∞ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Table Editor)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ RLS (Row Level Security) –≤–∫–ª—é—á–µ–Ω
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "relation 'users' does not exist"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏ SQL —Å–∫—Ä–∏–ø—Ç –∏–∑ `supabase_setup.sql`

### –û—à–∏–±–∫–∞: "new row violates row-level security policy"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ RLS —Å–æ–∑–¥–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Supabase Auth

### –û—à–∏–±–∫–∞: "Invalid API key"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `anon` key, –∞ –Ω–µ `service_role` key
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (–¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `https://`)

